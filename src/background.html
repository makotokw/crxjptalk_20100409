<!DOCTYPE html>
<html>
<head><meta charset="utf-8"/></head>
<body>
<script>
window.events = [];
</script>
<script>
function fetchEvent() {
	// $.get('http://....',function(data){
		this.events = ["event"];
		chrome.extension.sendRequest({eventUpdated:true});
	//});
}
setInterval(updateEvent,5*60*1000);
</script>
<script>
// hack!: chrome.extension.getPopupPage
(function () {
	this.getPopupPage = function() {
		return this.findWindowByPathname('/popup.html');
	}
	this.findWindowByPathname = function(pathname) {
		var views = this.getViews();
		for (var i=0, len=views.length; i<len; i++) {
			var w = views[i];
			if (w.location.pathname == pathname) {
				return w;
			}
		}
	}
}).apply(chrome.extension,[]);
</script>
</body>
</html>